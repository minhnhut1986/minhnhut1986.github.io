{"name":"Full flow marketplace order happy case with multiple drivers","id":"hydra---marketplace-order-on-app;full-flow-marketplace-order-happy-case-with-multiple-drivers","testSteps":[{"number":1,"description":"Given broker should be able to sign in broker app","duration":4153,"startTime":"2019-09-19T16:17:44.845+07:00[Asia/Ho_Chi_Minh]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":2,"description":"Should be able to sign in: automation_test143660@logivan.canh, 111111","duration":3147,"startTime":"2019-09-19T16:17:44.848+07:00[Asia/Ho_Chi_Minh]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":3,"description":"POST https://logivan-testbed1.herokuapp.com/api/v2/brokers/login","duration":0,"startTime":"2019-09-19T16:17:46.987+07:00[Asia/Ho_Chi_Minh]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://logivan-testbed1.herokuapp.com/api/v2/brokers/login","content":"{\n    \"credentials\": {\n        \"email\": \"automation_test143660@logivan.canh\",\n        \"password\": \"111111\"\n    }\n}","contentType":"application/json","requestHeaders":"DeviceId\u003dandroid\n\t\t\t\tPlatform\u003dandroid\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Server: Cowboy\nDate: Thu, 19 Sep 2019 09:17:45 GMT\nConnection: keep-alive\nX-Frame-Options: SAMEORIGIN\nX-Xss-Protection: 1; mode\u003dblock\nX-Content-Type-Options: nosniff\nX-Download-Options: noopen\nX-Permitted-Cross-Domain-Policies: none\nReferrer-Policy: strict-origin-when-cross-origin\nAuthorization: 47Qrgz39NDzZW19U7691LWUVCATsxQ\nContent-Type: application/json; charset\u003dutf-8\nEtag: W/\"a51bf205b91c627f1e768b2560d289d3\"\nCache-Control: max-age\u003d0, private, must-revalidate\nSet-Cookie: _logivan_api_session\u003dswcVjtWyDcXJyxaq3aR2in6FGCHveR2RK7iBYFpad5gHM1lyYC9nZMThXrH0MZMhFf%2BMenGRK5GmEqySOLBOi5CsKoWs4QU3%2FWyHXRzmIt3W9wW0vQdsgL4JycjzvCq5ZgkuUskF7fL8cmTbSTeyGiI%2F3cI%3D--p8ans1CPKgcTrRFH--5UEL0eoliPprO9pOpm6Naw%3D%3D; path\u003d/; HttpOnly\nX-Request-Id: ec5c5639-61bc-4b2c-983e-6c09e5dcacca\nX-Runtime: 0.498689\nVary: Origin\nTransfer-Encoding: chunked\nVia: 1.1 vegur","responseCookies":"_logivan_api_session\u003dswcVjtWyDcXJyxaq3aR2in6FGCHveR2RK7iBYFpad5gHM1lyYC9nZMThXrH0MZMhFf%2BMenGRK5GmEqySOLBOi5CsKoWs4QU3%2FWyHXRzmIt3W9wW0vQdsgL4JycjzvCq5ZgkuUskF7fL8cmTbSTeyGiI%2F3cI%3D--p8ans1CPKgcTrRFH--5UEL0eoliPprO9pOpm6Naw%3D%3D;Path\u003d/;HttpOnly","responseBody":"{\n    \"broker\": {\n        \"id\": 12932,\n        \"email\": \"automation_test143660@logivan.canh\",\n        \"tax_number\": null,\n        \"company_address\": null,\n        \"company_name\": null,\n        \"phone_number\": \"+84983155051\",\n        \"status\": \"verified\",\n        \"business_registration_url\": null,\n        \"is_affiliate\": false,\n        \"company_id\": null,\n        \"broker_company_id\": null,\n        \"name\": \"Mai thu bay\",\n        \"authentication_token\": \"\",\n        \"roles\": [\n            \n        ],\n        \"user_roles\": [\n            \n        ],\n        \"kind\": null,\n        \"broker_type\": null,\n        \"is_new_user\": null,\n        \"broker_company\": null\n    }\n}","statusCode":200},"precondition":false,"level":2}]}]},{"number":4,"description":"Given driver 1 should be able to sign in driver app","duration":2920,"startTime":"2019-09-19T16:17:50.005+07:00[Asia/Ho_Chi_Minh]","exception":{"errorType":"java.lang.AssertionError","message":"Driver sign in error: {\"status\":500,\"error\":\"Internal Server Error\"} - STOP APP","stackTrace":[{"declaringClass":"lgv.automation.util.Log","methodName":"errorAndStop","fileName":"Log.java","lineNumber":30},{"declaringClass":"lgv.automation.steps.api.DriverSteps","methodName":"signIn","fileName":"DriverSteps.java","lineNumber":150},{"declaringClass":"lgv.automation.steps.api.DriverSteps","methodName":"shouldBeAbleToSignIn","fileName":"DriverSteps.java","lineNumber":814},{"declaringClass":"lgv.automation.serenityCucumber.api.features.steps.driver.SignIn","methodName":"driver_should_able_to_sign_in_on_driver_app","fileName":"SignIn.java","lineNumber":41},{"declaringClass":"âœ½","methodName":"driver 1 should be able to sign in driver app","fileName":"src/test/resources/features/api/smokeTests/marketPlaceOrderOnApp.feature","lineNumber":21}]},"result":"FAILURE","precondition":false,"level":0,"children":[{"number":5,"description":"Should be able to sign in: +84983117228, 111111","duration":2904,"startTime":"2019-09-19T16:17:50.009+07:00[Asia/Ho_Chi_Minh]","exception":{"errorType":"java.lang.AssertionError","message":"Driver sign in error: {\"status\":500,\"error\":\"Internal Server Error\"} - STOP APP","stackTrace":[{"declaringClass":"lgv.automation.util.Log","methodName":"errorAndStop","fileName":"Log.java","lineNumber":30},{"declaringClass":"lgv.automation.steps.api.DriverSteps","methodName":"signIn","fileName":"DriverSteps.java","lineNumber":150},{"declaringClass":"lgv.automation.steps.api.DriverSteps","methodName":"shouldBeAbleToSignIn","fileName":"DriverSteps.java","lineNumber":814},{"declaringClass":"lgv.automation.serenityCucumber.api.features.steps.driver.SignIn","methodName":"driver_should_able_to_sign_in_on_driver_app","fileName":"SignIn.java","lineNumber":41},{"declaringClass":"cucumber.runner.PickleStepDefinitionMatch","methodName":"runStep","fileName":"PickleStepDefinitionMatch.java","lineNumber":50},{"declaringClass":"cucumber.runner.TestStep","methodName":"executeStep","fileName":"TestStep.java","lineNumber":63},{"declaringClass":"cucumber.runner.TestStep","methodName":"run","fileName":"TestStep.java","lineNumber":49},{"declaringClass":"cucumber.runner.PickleStepTestStep","methodName":"run","fileName":"PickleStepTestStep.java","lineNumber":43},{"declaringClass":"cucumber.runner.TestCase","methodName":"run","fileName":"TestCase.java","lineNumber":44},{"declaringClass":"cucumber.runner.Runner","methodName":"runPickle","fileName":"Runner.java","lineNumber":40}]},"result":"FAILURE","precondition":false,"level":1,"children":[{"number":6,"description":"POST https://logivan-testbed1.herokuapp.com/api/v2/driver/login","duration":0,"startTime":"2019-09-19T16:17:51.903+07:00[Asia/Ho_Chi_Minh]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://logivan-testbed1.herokuapp.com/api/v2/driver/login","content":"{\n    \"credentials\": {\n        \"phone_number\": \"+84983117228\",\n        \"password\": \"111111\"\n    }\n}","contentType":"application/json","requestHeaders":"DeviceId\u003dandroid\n\t\t\t\tPlatform\u003dandroid\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Server: Cowboy\nDate: Thu, 19 Sep 2019 09:17:51 GMT\nConnection: keep-alive\nContent-Type: application/json; charset\u003dUTF-8\nX-Request-Id: 011f66e9-32de-488a-aacb-fa4cf29d5140\nX-Runtime: 0.301117\nVary: Origin\nContent-Length: 46\nVia: 1.1 vegur","responseCookies":"","responseBody":"{\n    \"status\": 500,\n    \"error\": \"Internal Server Error\"\n}","statusCode":500},"precondition":false,"level":2}]}]},{"number":7,"description":"And driver 2 should be able to sign in driver app","duration":3,"startTime":"2019-09-19T16:17:52.925+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":8,"description":"When broker should be able to create new market place order with truck_quantity \u003d 5","duration":2,"startTime":"2019-09-19T16:17:52.928+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":9,"description":"And hydra - driver 1 should be able to bidding \"new\" order with truck quantity \u003d 2","duration":1,"startTime":"2019-09-19T16:17:52.930+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":10,"description":"And broker should be able to view bidding list of \"new\" order","duration":1,"startTime":"2019-09-19T16:17:52.932+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":11,"description":"And broker should be able to select bidding of \"new\" order","duration":1,"startTime":"2019-09-19T16:17:52.934+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":12,"description":"And hydra - driver 2 should be able to bidding \"new\" order with truck quantity \u003d 3","duration":1,"startTime":"2019-09-19T16:17:52.936+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":13,"description":"And broker should be able to select bidding of \"new\" order","duration":1,"startTime":"2019-09-19T16:17:52.938+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":14,"description":"And broker should be able to view bidding detail of \"new\" order","duration":1,"startTime":"2019-09-19T16:17:52.940+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":15,"description":"And hydra - broker should be able to accept all bids of \"new\" order","duration":1,"startTime":"2019-09-19T16:17:52.941+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":16,"description":"And driver 1 should be able to accept \"new\" offer","duration":1,"startTime":"2019-09-19T16:17:52.942+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":17,"description":"And driver 2 should be able to accept \"new\" offer","duration":2,"startTime":"2019-09-19T16:17:52.944+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":18,"description":"And ops manager should be able to get \"new\" truck requests info","duration":2,"startTime":"2019-09-19T16:17:52.946+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":19,"description":"Then driver 1 should be able to drop off all shipment","duration":1,"startTime":"2019-09-19T16:17:52.949+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":20,"description":"And driver 2 should be able to drop off all shipment","duration":2,"startTime":"2019-09-19T16:17:52.951+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":21,"description":"And broker should be able to verify \"new\" order completed","duration":1,"startTime":"2019-09-19T16:17:52.953+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":22,"description":"And hydra - broker should be able to rate \"new\" order of \"existing\" driver","duration":1,"startTime":"2019-09-19T16:17:52.955+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0},{"number":23,"description":"And broker should be able to verify review \"new\" order info","duration":2,"startTime":"2019-09-19T16:17:52.956+07:00[Asia/Ho_Chi_Minh]","result":"SKIPPED","precondition":false,"level":0}],"userStory":{"id":"hydra---marketplace-order-on-app","storyName":"Hydra - Marketplace order on app","path":"api/smokeTests/marketPlaceOrderOnApp.feature","type":"feature"},"featureTag":{"name":"Smoke tests/Hydra - Marketplace order on app","type":"feature","displayName":"Smoke tests/Hydra - Marketplace order on app"},"title":"Full flow marketplace order happy case with multiple drivers","backgroundTitle":"Broker sign in","backgroundDescription":"","tags":[{"name":"deleteNewOrder","type":"tag","displayName":"deleteNewOrder"},{"name":"Smoke tests/Hydra - Marketplace order on app","type":"feature","displayName":"Hydra - Marketplace order on app"},{"name":"Api/Smoke tests","type":"theme","displayName":"Smoke tests"},{"name":"Api","type":"theme","displayName":"Api"}],"startTime":"2019-09-19T16:17:44.840+07:00[Asia/Ho_Chi_Minh]","duration":19057,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"Driver sign in error: {\"status\":500,\"error\":\"Internal Server Error\"} - STOP APP","stackTrace":[{"declaringClass":"lgv.automation.util.Log","methodName":"errorAndStop","fileName":"Log.java","lineNumber":30},{"declaringClass":"lgv.automation.steps.api.DriverSteps","methodName":"signIn","fileName":"DriverSteps.java","lineNumber":150},{"declaringClass":"lgv.automation.steps.api.DriverSteps","methodName":"shouldBeAbleToSignIn","fileName":"DriverSteps.java","lineNumber":814},{"declaringClass":"lgv.automation.serenityCucumber.api.features.steps.driver.SignIn","methodName":"driver_should_able_to_sign_in_on_driver_app","fileName":"SignIn.java","lineNumber":41},{"declaringClass":"cucumber.runner.PickleStepDefinitionMatch","methodName":"runStep","fileName":"PickleStepDefinitionMatch.java","lineNumber":50},{"declaringClass":"cucumber.runner.TestStep","methodName":"executeStep","fileName":"TestStep.java","lineNumber":63},{"declaringClass":"cucumber.runner.TestStep","methodName":"run","fileName":"TestStep.java","lineNumber":49},{"declaringClass":"cucumber.runner.PickleStepTestStep","methodName":"run","fileName":"PickleStepTestStep.java","lineNumber":43},{"declaringClass":"cucumber.runner.TestCase","methodName":"run","fileName":"TestCase.java","lineNumber":44},{"declaringClass":"cucumber.runner.Runner","methodName":"runPickle","fileName":"Runner.java","lineNumber":40}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"Driver sign in error: {\"status\":500,\"error\":\"Internal Server Error\"} - STOP APP","testFailureSummary":"FAILURE;java.lang.AssertionError;Driver sign in error: {\"status\":500,\"error\":\"Internal Server Error\"} - STOP APP;Log.java","projectKey":"","annotatedResult":"FAILURE","isManualTestingUpToDate":false,"manual":false,"testSource":"Cucumber","result":"FAILURE"}