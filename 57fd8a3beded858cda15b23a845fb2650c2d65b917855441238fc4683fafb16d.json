{"name":"Full flow hybrid order happy case with multiple driver","id":"hydra---hybrid-order-on-app;full-flow-hybrid-order-happy-case-with-multiple-driver","testSteps":[{"number":1,"description":"Given broker should be able to sign in broker app","duration":3040,"startTime":"2019-10-09T09:19:23.213Z[GMT]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":2,"description":"Should be able to sign in: automation_test143660@logivan.canh, 111111","duration":2027,"startTime":"2019-10-09T09:19:23.216Z[GMT]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":3,"description":"POST https://logivan-testbed1.herokuapp.com/api/v2/brokers/login","duration":1,"startTime":"2019-10-09T09:19:24.212Z[GMT]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://logivan-testbed1.herokuapp.com/api/v2/brokers/login","content":"{\n    \"credentials\": {\n        \"email\": \"automation_test143660@logivan.canh\",\n        \"password\": \"111111\"\n    }\n}","contentType":"application/json","requestHeaders":"DeviceId\u003dandroid\n\t\t\t\tPlatform\u003dandroid\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Server: Cowboy\nDate: Wed, 09 Oct 2019 09:19:23 GMT\nConnection: keep-alive\nX-Frame-Options: SAMEORIGIN\nX-Xss-Protection: 1; mode\u003dblock\nX-Content-Type-Options: nosniff\nX-Download-Options: noopen\nX-Permitted-Cross-Domain-Policies: none\nReferrer-Policy: strict-origin-when-cross-origin\nAuthorization: p8qXzHxZQgpZycYZkGakFbsVsJ7urQ\nContent-Type: application/json; charset\u003dutf-8\nEtag: W/\"0872ff75df60bc591c752a2eec98cbac\"\nCache-Control: max-age\u003d0, private, must-revalidate\nSet-Cookie: _logivan_api_session\u003dZ0zsqPz17GMwA%2BTGqgd5OVATHKopHEwgf8fwuoGCBXVnG7BgCDqv167%2BkdfyWTFQlw1lFaZcLzEH41jIFc%2B65xE0aWg0X8z9iAN64mNi3lMzWi%2BKKov80%2BaeDEzDvfjJNpgOOA4OZgYxNmNA1qsNUQuuJiY%3D--eqYXUzCZYbAw1cP5--6VyxpQO1evMC0zCa9nD4cQ%3D%3D; path\u003d/; HttpOnly\nX-Request-Id: b61efc4f-3b8c-4d75-98b4-faf4b1d77e2e\nX-Runtime: 0.451296\nVary: Origin\nTransfer-Encoding: chunked\nVia: 1.1 vegur","responseCookies":"_logivan_api_session\u003dZ0zsqPz17GMwA%2BTGqgd5OVATHKopHEwgf8fwuoGCBXVnG7BgCDqv167%2BkdfyWTFQlw1lFaZcLzEH41jIFc%2B65xE0aWg0X8z9iAN64mNi3lMzWi%2BKKov80%2BaeDEzDvfjJNpgOOA4OZgYxNmNA1qsNUQuuJiY%3D--eqYXUzCZYbAw1cP5--6VyxpQO1evMC0zCa9nD4cQ%3D%3D;Path\u003d/;HttpOnly","responseBody":"{\n    \"broker\": {\n        \"id\": 12932,\n        \"email\": \"automation_test143660@logivan.canh\",\n        \"tax_number\": null,\n        \"company_address\": null,\n        \"company_name\": null,\n        \"phone_number\": \"+84983155051\",\n        \"status\": \"verified\",\n        \"business_registration_url\": null,\n        \"is_affiliate\": false,\n        \"company_id\": null,\n        \"broker_company_id\": null,\n        \"name\": \"Mai thu bay\",\n        \"authentication_token\": \"\",\n        \"roles\": [\n            \n        ],\n        \"user_roles\": [\n            \n        ],\n        \"kind\": null,\n        \"broker_type\": null,\n        \"is_new_user\": null,\n        \"e_contract_agreed\": false,\n        \"broker_company\": null\n    }\n}","statusCode":200},"precondition":false,"level":2}]}]},{"number":4,"description":"Given driver 1 should be able to sign in driver app","duration":3044,"startTime":"2019-10-09T09:19:27.256Z[GMT]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":5,"description":"Should be able to sign in: +84983117228, 111111","duration":2015,"startTime":"2019-10-09T09:19:27.281Z[GMT]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":6,"description":"POST https://logivan-testbed1.herokuapp.com/api/v2/driver/login","duration":1,"startTime":"2019-10-09T09:19:28.232Z[GMT]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://logivan-testbed1.herokuapp.com/api/v2/driver/login","content":"{\n    \"credentials\": {\n        \"phone_number\": \"+84983117228\",\n        \"password\": \"111111\"\n    }\n}","contentType":"application/json","requestHeaders":"DeviceId\u003dandroid\n\t\t\t\tPlatform\u003dandroid\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Server: Cowboy\nDate: Wed, 09 Oct 2019 09:19:28 GMT\nConnection: keep-alive\nX-Frame-Options: SAMEORIGIN\nX-Xss-Protection: 1; mode\u003dblock\nX-Content-Type-Options: nosniff\nX-Download-Options: noopen\nX-Permitted-Cross-Domain-Policies: none\nReferrer-Policy: strict-origin-when-cross-origin\nAuthorization: 31vpzHV-itWLzb5zVCH65RaNRKxyCA\nContent-Type: application/json; charset\u003dutf-8\nEtag: W/\"7be0a4ea36f9b2801bfcedcc57448595\"\nCache-Control: max-age\u003d0, private, must-revalidate\nSet-Cookie: _logivan_api_session\u003dAaw22ueX0eSl4XBFKmXVzjRo8dZr6FSwaF%2B1VISjFu7yioXeQgGNsujCrKJHwAw5X4NKxfkVFqj5ii2kDq7kbPtLY%2BvKP2uvlx2FfhM4VNncN7gN19eH%2Br3pMpymCviLQ%2B3cBLnpKi5AozPL9uqLnd5xNCQ%3D--BALyxq6vAKqGhnfT--6Eo6QE%2FHTntxdYp0Q%2FwiOA%3D%3D; path\u003d/; HttpOnly\nX-Request-Id: 68a869e3-11fb-4824-952c-284915bb9af8\nX-Runtime: 0.393239\nVary: Origin\nTransfer-Encoding: chunked\nVia: 1.1 vegur","responseCookies":"_logivan_api_session\u003dAaw22ueX0eSl4XBFKmXVzjRo8dZr6FSwaF%2B1VISjFu7yioXeQgGNsujCrKJHwAw5X4NKxfkVFqj5ii2kDq7kbPtLY%2BvKP2uvlx2FfhM4VNncN7gN19eH%2Br3pMpymCviLQ%2B3cBLnpKi5AozPL9uqLnd5xNCQ%3D--BALyxq6vAKqGhnfT--6Eo6QE%2FHTntxdYp0Q%2FwiOA%3D%3D;Path\u003d/;HttpOnly","responseBody":"{\n    \"driver\": {\n        \"is_success\": true,\n        \"messages\": \"Đăng nhập thành công\",\n        \"data\": {\n            \"user\": {\n                \"id\": 24693,\n                \"name\": \"Mai Thu Hai\",\n                \"phone_number\": \"+84983117228\",\n                \"email\": null,\n                \"address\": null,\n                \"date_of_birth\": null,\n                \"license_id\": \"222153403\",\n                \"license_date\": \"2022-05-27T00:00:00.000+07:00\",\n                \"identity_id\": null,\n                \"identity_date\": null,\n                \"business_registration\": null,\n                \"transportation_permit\": null,\n                \"status\": \"approved\",\n                \"company_name\": null,\n                \"identity_id_url\": \"https://firebasestorage.googleapis.com/v0/b/logivan-driver-development.appspot.com/o/identity_photos%2F1557992548857?alt\u003dmedia\u0026token\u003db4724a05-04e8-4246-b238-a71f340f8d6e\",\n                \"business_registration_url\": null,\n                \"transportation_permit_url\": null,\n                \"created_at\": \"2019-09-11T14:09:48.124+07:00\",\n                \"updated_at\": \"2019-10-09T16:19:28.131+07:00\",\n                \"can_tax_invoice_issued\": false,\n                \"notes\": null,\n                \"license_url\": \"https://firebasestorage.googleapis.com/v0/b/logivan-driver-development.appspot.com/o/identity_photos%2F1557992551934?alt\u003dmedia\u0026token\u003d42a4d862-fe55-4237-8fc8-cb0c5a9142af\",\n                \"prospect_driver_id\": null,\n                \"current_company_id\": null,\n                \"hidden\": false,\n                \"bid_times_count\": 432,\n                \"order_inquiries_count\": 0,\n                \"certificate_registry_url\": null,\n                \"smr_version\": \"2.0c\",\n                \"referral_id\": null,\n                \"approved_referee_count\": 0,\n                \"referrals_count\": 0,\n                \"rewarded_count\": 0,\n                \"certificate_registry_plate\": null,\n                \"certificate_registry_date\": null,\n                \"broker_call_logs_count\": 0,\n                \"activities_count\": 0,\n                \"is_company\": false,\n                \"source\": null,\n                \"manager_id\": null,\n                \"verified_at\": \"2019-09-11T14:10:50.155+07:00\",\n                \"shipments_count\": 1102,\n                \"avatar_url\": null,\n                \"rejected_at\": null,\n                \"broker_reviews_count\": 102,\n                \"ops_reviews_count\": 0,\n                \"latest_call_log_id\": null,\n                \"locked\": false,\n                \"locked_reason\": null,\n                \"authentication_token\": \"\",\n                \"roles\": [\n                    \n                ],\n                \"user_roles\": [\n                    \n                ]\n            }\n        },\n        \"is_new_user\": null\n    }\n}","statusCode":200},"precondition":false,"level":2}]}]},{"number":7,"description":"And driver 2 should be able to sign in driver app","duration":2890,"startTime":"2019-10-09T09:19:31.303Z[GMT]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":8,"description":"Should be able to sign in: +84983117994, 111111","duration":1881,"startTime":"2019-10-09T09:19:31.309Z[GMT]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":9,"description":"POST https://logivan-testbed1.herokuapp.com/api/v2/driver/login","duration":1,"startTime":"2019-10-09T09:19:32.151Z[GMT]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://logivan-testbed1.herokuapp.com/api/v2/driver/login","content":"{\n    \"credentials\": {\n        \"phone_number\": \"+84983117994\",\n        \"password\": \"111111\"\n    }\n}","contentType":"application/json","requestHeaders":"DeviceId\u003dandroid\n\t\t\t\tPlatform\u003dandroid\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Server: Cowboy\nDate: Wed, 09 Oct 2019 09:19:31 GMT\nConnection: keep-alive\nX-Frame-Options: SAMEORIGIN\nX-Xss-Protection: 1; mode\u003dblock\nX-Content-Type-Options: nosniff\nX-Download-Options: noopen\nX-Permitted-Cross-Domain-Policies: none\nReferrer-Policy: strict-origin-when-cross-origin\nAuthorization: 188TcKvVaxj75hnJ9UZxzbLQHsWdAQ\nContent-Type: application/json; charset\u003dutf-8\nEtag: W/\"f603ed48e1fef511e9d8a14d4596d7cd\"\nCache-Control: max-age\u003d0, private, must-revalidate\nSet-Cookie: _logivan_api_session\u003dZ7z6r7OAzhfgDqOhJAfcTzUPumyGRvAaDomgVL0VkqnIAN54KzW1FO%2BmDPHviglf69W%2BLRIbnbp65BTquD7UCVqxxaxl76XUVwpBSDul64qeX4BlFMfJ%2BidNDWEye8Te35xT%2FcyaECzbjArxMOx4iZYaXvI%3D--jKnwaMbEvkIjwvP%2B--bcbDIkplusSrQqNzBBHnRw%3D%3D; path\u003d/; HttpOnly\nX-Request-Id: a5c29a63-62c8-4a66-91d9-4a8c25a1ea4a\nX-Runtime: 0.251678\nVary: Origin\nTransfer-Encoding: chunked\nVia: 1.1 vegur","responseCookies":"_logivan_api_session\u003dZ7z6r7OAzhfgDqOhJAfcTzUPumyGRvAaDomgVL0VkqnIAN54KzW1FO%2BmDPHviglf69W%2BLRIbnbp65BTquD7UCVqxxaxl76XUVwpBSDul64qeX4BlFMfJ%2BidNDWEye8Te35xT%2FcyaECzbjArxMOx4iZYaXvI%3D--jKnwaMbEvkIjwvP%2B--bcbDIkplusSrQqNzBBHnRw%3D%3D;Path\u003d/;HttpOnly","responseBody":"{\n    \"driver\": {\n        \"is_success\": true,\n        \"messages\": \"Đăng nhập thành công\",\n        \"data\": {\n            \"user\": {\n                \"id\": 24694,\n                \"name\": \"Mai Thu Hai\",\n                \"phone_number\": \"+84983117994\",\n                \"email\": null,\n                \"address\": null,\n                \"date_of_birth\": null,\n                \"license_id\": \"222109995\",\n                \"license_date\": \"2022-05-27T00:00:00.000+07:00\",\n                \"identity_id\": null,\n                \"identity_date\": null,\n                \"business_registration\": null,\n                \"transportation_permit\": null,\n                \"status\": \"approved\",\n                \"company_name\": null,\n                \"identity_id_url\": \"https://firebasestorage.googleapis.com/v0/b/logivan-driver-development.appspot.com/o/identity_photos%2F1557992548857?alt\u003dmedia\u0026token\u003db4724a05-04e8-4246-b238-a71f340f8d6e\",\n                \"business_registration_url\": null,\n                \"transportation_permit_url\": null,\n                \"created_at\": \"2019-09-11T14:12:17.803+07:00\",\n                \"updated_at\": \"2019-10-09T16:19:32.057+07:00\",\n                \"can_tax_invoice_issued\": false,\n                \"notes\": null,\n                \"license_url\": \"https://firebasestorage.googleapis.com/v0/b/logivan-driver-development.appspot.com/o/identity_photos%2F1557992551934?alt\u003dmedia\u0026token\u003d42a4d862-fe55-4237-8fc8-cb0c5a9142af\",\n                \"prospect_driver_id\": null,\n                \"current_company_id\": null,\n                \"hidden\": false,\n                \"bid_times_count\": 316,\n                \"order_inquiries_count\": 0,\n                \"certificate_registry_url\": null,\n                \"smr_version\": \"2.0c\",\n                \"referral_id\": null,\n                \"approved_referee_count\": 0,\n                \"referrals_count\": 0,\n                \"rewarded_count\": 0,\n                \"certificate_registry_plate\": null,\n                \"certificate_registry_date\": null,\n                \"broker_call_logs_count\": 0,\n                \"activities_count\": 0,\n                \"is_company\": false,\n                \"source\": null,\n                \"manager_id\": null,\n                \"verified_at\": \"2019-09-11T14:13:16.432+07:00\",\n                \"shipments_count\": 693,\n                \"avatar_url\": null,\n                \"rejected_at\": null,\n                \"broker_reviews_count\": 92,\n                \"ops_reviews_count\": 0,\n                \"latest_call_log_id\": null,\n                \"locked\": false,\n                \"locked_reason\": null,\n                \"authentication_token\": \"\",\n                \"roles\": [\n                    \n                ],\n                \"user_roles\": [\n                    \n                ]\n            }\n        },\n        \"is_new_user\": null\n    }\n}","statusCode":200},"precondition":false,"level":2}]}]},{"number":10,"description":"And driver 3 should be able to sign in driver app","duration":2824,"startTime":"2019-10-09T09:19:35.195Z[GMT]","result":"SUCCESS","precondition":false,"level":0,"children":[{"number":11,"description":"Should be able to sign in: +84983112233, 111111","duration":1817,"startTime":"2019-10-09T09:19:35.201Z[GMT]","result":"SUCCESS","precondition":false,"level":1,"children":[{"number":12,"description":"POST https://logivan-testbed1.herokuapp.com/api/v2/driver/login","duration":0,"startTime":"2019-10-09T09:19:35.980Z[GMT]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://logivan-testbed1.herokuapp.com/api/v2/driver/login","content":"{\n    \"credentials\": {\n        \"phone_number\": \"+84983112233\",\n        \"password\": \"111111\"\n    }\n}","contentType":"application/json","requestHeaders":"DeviceId\u003dandroid\n\t\t\t\tPlatform\u003dandroid\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Server: Cowboy\nDate: Wed, 09 Oct 2019 09:19:35 GMT\nConnection: keep-alive\nX-Frame-Options: SAMEORIGIN\nX-Xss-Protection: 1; mode\u003dblock\nX-Content-Type-Options: nosniff\nX-Download-Options: noopen\nX-Permitted-Cross-Domain-Policies: none\nReferrer-Policy: strict-origin-when-cross-origin\nAuthorization: RBy4cYepu93mMjuHyKxVQVmRtaRogw\nContent-Type: application/json; charset\u003dutf-8\nEtag: W/\"fcc7c1dac09f03a7486fb5efee96e00b\"\nCache-Control: max-age\u003d0, private, must-revalidate\nSet-Cookie: _logivan_api_session\u003dSxQEjUVcnjnN6IkbyChNpcmON5Frj0KET7WVZDig5MObVAjRLCwG%2FaaTyHCC6N1YlLtHAHsy46wa7lVFIwFh%2FAgKKE%2F9Z37yPOKeiUYO1Rt4N1YgzwOgCs6nVjKnziN%2F3mNurg6ExZ5xVKgq1mKXLd0wf74%3D--IifLeJ%2Fe7qmZHwFv--T91zVbydOqi3%2FjK6EIU6Jw%3D%3D; path\u003d/; HttpOnly\nX-Request-Id: dd3ea002-322f-48f1-887f-80a404c6d98b\nX-Runtime: 0.203360\nVary: Origin\nTransfer-Encoding: chunked\nVia: 1.1 vegur","responseCookies":"_logivan_api_session\u003dSxQEjUVcnjnN6IkbyChNpcmON5Frj0KET7WVZDig5MObVAjRLCwG%2FaaTyHCC6N1YlLtHAHsy46wa7lVFIwFh%2FAgKKE%2F9Z37yPOKeiUYO1Rt4N1YgzwOgCs6nVjKnziN%2F3mNurg6ExZ5xVKgq1mKXLd0wf74%3D--IifLeJ%2Fe7qmZHwFv--T91zVbydOqi3%2FjK6EIU6Jw%3D%3D;Path\u003d/;HttpOnly","responseBody":"{\n    \"driver\": {\n        \"is_success\": true,\n        \"messages\": \"Đăng nhập thành công\",\n        \"data\": {\n            \"user\": {\n                \"id\": 24695,\n                \"name\": \"Mai Thu Hai\",\n                \"phone_number\": \"+84983112233\",\n                \"email\": null,\n                \"address\": null,\n                \"date_of_birth\": null,\n                \"license_id\": \"222186757\",\n                \"license_date\": \"2022-05-27T00:00:00.000+07:00\",\n                \"identity_id\": null,\n                \"identity_date\": null,\n                \"business_registration\": null,\n                \"transportation_permit\": null,\n                \"status\": \"approved\",\n                \"company_name\": null,\n                \"identity_id_url\": \"https://firebasestorage.googleapis.com/v0/b/logivan-driver-development.appspot.com/o/identity_photos%2F1557992548857?alt\u003dmedia\u0026token\u003db4724a05-04e8-4246-b238-a71f340f8d6e\",\n                \"business_registration_url\": null,\n                \"transportation_permit_url\": null,\n                \"created_at\": \"2019-09-11T14:15:01.379+07:00\",\n                \"updated_at\": \"2019-10-09T16:19:35.896+07:00\",\n                \"can_tax_invoice_issued\": false,\n                \"notes\": null,\n                \"license_url\": \"https://firebasestorage.googleapis.com/v0/b/logivan-driver-development.appspot.com/o/identity_photos%2F1557992551934?alt\u003dmedia\u0026token\u003d42a4d862-fe55-4237-8fc8-cb0c5a9142af\",\n                \"prospect_driver_id\": null,\n                \"current_company_id\": null,\n                \"hidden\": false,\n                \"bid_times_count\": 115,\n                \"order_inquiries_count\": 0,\n                \"certificate_registry_url\": null,\n                \"smr_version\": \"2.0c\",\n                \"referral_id\": null,\n                \"approved_referee_count\": 0,\n                \"referrals_count\": 0,\n                \"rewarded_count\": 0,\n                \"certificate_registry_plate\": null,\n                \"certificate_registry_date\": null,\n                \"broker_call_logs_count\": 0,\n                \"activities_count\": 0,\n                \"is_company\": false,\n                \"source\": null,\n                \"manager_id\": null,\n                \"verified_at\": \"2019-09-11T14:15:59.849+07:00\",\n                \"shipments_count\": 306,\n                \"avatar_url\": null,\n                \"rejected_at\": null,\n                \"broker_reviews_count\": 0,\n                \"ops_reviews_count\": 0,\n                \"latest_call_log_id\": 51876,\n                \"locked\": false,\n                \"locked_reason\": null,\n                \"authentication_token\": \"\",\n                \"roles\": [\n                    \n                ],\n                \"user_roles\": [\n                    \n                ]\n            }\n        },\n        \"is_new_user\": null\n    }\n}","statusCode":200},"precondition":false,"level":2}]}]},{"number":13,"description":"When broker should be able to create new hybrid order with truck_quantity \u003d 6","duration":1744,"startTime":"2019-10-09T09:19:39.022Z[GMT]","exception":{"errorType":"java.lang.AssertionError","message":"Create new order error: {\"_error\":\"Không tạo được đơn hàng!\",\"errors\":{\"is_whole_truck\":[\"không có trong danh sách\"]}} - STOP APP","stackTrace":[{"declaringClass":"lgv.automation.util.Log","methodName":"errorAndStop","fileName":"Log.java","lineNumber":30},{"declaringClass":"lgv.automation.steps.api.BrokerSteps","methodName":"createNewHybridOrderWithTruckQuantity","fileName":"BrokerSteps.java","lineNumber":667},{"declaringClass":"lgv.automation.steps.api.BrokerSteps","methodName":"shouldBeAbleToCreateNewHybridOrderWithTruckQuantity","fileName":"BrokerSteps.java","lineNumber":1322},{"declaringClass":"lgv.automation.serenityCucumber.api.features.steps.broker.CreateNewOrder","methodName":"create_new_hybrid_order_with_truck_quantity_success","fileName":"CreateNewOrder.java","lineNumber":56},{"declaringClass":"✽","methodName":"broker should be able to create new hybrid order with truck_quantity \u003d 6","fileName":"src/test/resources/features/api/smokeTests/hybridOrderOnApp.feature","lineNumber":31}]},"result":"FAILURE","precondition":false,"level":0,"children":[{"number":14,"description":"Should be able to create new hybrid order with truck quantity: 18000000, 6","duration":1714,"startTime":"2019-10-09T09:19:39.033Z[GMT]","exception":{"errorType":"java.lang.AssertionError","message":"Create new order error: {\"_error\":\"Không tạo được đơn hàng!\",\"errors\":{\"is_whole_truck\":[\"không có trong danh sách\"]}} - STOP APP","stackTrace":[{"declaringClass":"lgv.automation.util.Log","methodName":"errorAndStop","fileName":"Log.java","lineNumber":30},{"declaringClass":"lgv.automation.steps.api.BrokerSteps","methodName":"createNewHybridOrderWithTruckQuantity","fileName":"BrokerSteps.java","lineNumber":667},{"declaringClass":"lgv.automation.steps.api.BrokerSteps","methodName":"shouldBeAbleToCreateNewHybridOrderWithTruckQuantity","fileName":"BrokerSteps.java","lineNumber":1322},{"declaringClass":"lgv.automation.serenityCucumber.api.features.steps.broker.CreateNewOrder","methodName":"create_new_hybrid_order_with_truck_quantity_success","fileName":"CreateNewOrder.java","lineNumber":56},{"declaringClass":"cucumber.runner.PickleStepDefinitionMatch","methodName":"runStep","fileName":"PickleStepDefinitionMatch.java","lineNumber":50},{"declaringClass":"cucumber.runner.TestStep","methodName":"executeStep","fileName":"TestStep.java","lineNumber":63},{"declaringClass":"cucumber.runner.TestStep","methodName":"run","fileName":"TestStep.java","lineNumber":49},{"declaringClass":"cucumber.runner.PickleStepTestStep","methodName":"run","fileName":"PickleStepTestStep.java","lineNumber":43},{"declaringClass":"cucumber.runner.TestCase","methodName":"run","fileName":"TestCase.java","lineNumber":44},{"declaringClass":"cucumber.runner.Runner","methodName":"runPickle","fileName":"Runner.java","lineNumber":40}]},"result":"FAILURE","precondition":false,"level":1,"children":[{"number":15,"description":"POST https://logivan-testbed1.herokuapp.com/broker/api/v1/orders","duration":0,"startTime":"2019-10-09T09:19:39.742Z[GMT]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://logivan-testbed1.herokuapp.com/broker/api/v1/orders","content":"{\n    \"order\": {\n        \"order_type\": \"original_hybrid\",\n        \"images\": [\n            {\n                \"url\": \"https://firebasestorage.googleapis.com/v0/b/logivan-salestool-testbed1.appspot.com/o/test%2F%5Border%5D%5B%5D%5Bundefined%5D_TvVWM.jpg?alt\u003dmedia\u0026token\u003db8f1e133-11be-48df-ab40-e7eb300e48a4\"\n            }\n        ],\n        \"is_insurance_requested\": true,\n        \"hide_contact\": true,\n        \"is_tax_invoice_requested\": true,\n        \"is_whole_truck\": true,\n        \"is_share_truck\": true,\n        \"truck_quantity\": \"6\",\n        \"truck_type_id\": 5,\n        \"truck_model_id\": 42,\n        \"pickup_datetime\": \"2029-06-08T10:11:00+07:00\",\n        \"dropoff_datetime\": \"2029-06-08T10:11:00+07:00\",\n        \"cargo_weight\": \"4\",\n        \"cargo_types\": \"Vật liệu xây dựng\",\n        \"cargo_length\": \"3\",\n        \"cargo_width\": \"1\",\n        \"cargo_height\": \"1\",\n        \"sales_price\": 18000000,\n        \"customer_id\": 12667,\n        \"notes\": \"hàng của mị mắc lắm\",\n        \"internal_notes\": \"Chúng tôi không có gì ngoài điều kiện\",\n        \"pickup_locations_attributes\": [\n            {\n                \"city\": \"Hà Nội\",\n                \"area_id\": \"3\",\n                \"address\": \"Ba Vi Resort, Vườn Quốc Gia Ba Vì, Ba Vì, Hà Nội, Việt Nam\",\n                \"description\": \"Ba Vi Resort, Vườn Quốc Gia Ba Vì, Ba Vì, Hà Nội, Việt Nam\",\n                \"value\": \"ChIJP8aQu-9gNDERj76ZokcaJXE\",\n                \"area_id\": \"3\",\n                \"district_id\": \"231\",\n                \"lat\": 21.0849806,\n                \"lng\": 105.37356380000006\n            }\n        ],\n        \"dropoff_locations_attributes\": [\n            {\n                \"city\": \"Hồ Chí Minh\",\n                \"area_id\": \"5\",\n                \"address\": \"Binh Chanh Market, Quốc lộ 1A, x. Bình Chánh, Bình Chánh, Hồ Chí Minh, Việt Nam\",\n                \"description\": \"Binh Chanh Market, Quốc lộ 1A, x. Bình Chánh, Bình Chánh, Hồ Chí Minh, Việt Nam\",\n                \"value\": \"ChIJT7f8qwIzdTER7iIC0KXQCZg\",\n                \"area_id\": \"5\",\n                \"district_id\": \"643\",\n                \"lat\": 10.6658461,\n                \"lng\": 106.57159590000003\n            }\n        ]\n    }\n}","contentType":"application/json","requestHeaders":"DeviceId\u003dandroid\n\t\t\t\tPlatform\u003dandroid\n\t\t\t\tAuthorization\u003dBearer p8qXzHxZQgpZycYZkGakFbsVsJ7urQ\n\t\t\t\tAccept\u003d*/*\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8","requestCookies":"","responseHeaders":"Server: Cowboy\nDate: Wed, 09 Oct 2019 09:19:39 GMT\nConnection: keep-alive\nX-Frame-Options: SAMEORIGIN\nX-Xss-Protection: 1; mode\u003dblock\nX-Content-Type-Options: nosniff\nX-Download-Options: noopen\nX-Permitted-Cross-Domain-Policies: none\nReferrer-Policy: strict-origin-when-cross-origin\nAuthorization: p8qXzHxZQgpZycYZkGakFbsVsJ7urQ\nContent-Type: application/json; charset\u003dutf-8\nCache-Control: no-cache\nX-Request-Id: 447715e8-c625-4d02-88ff-e07a060e1037\nX-Runtime: 0.159540\nVary: Origin\nTransfer-Encoding: chunked\nVia: 1.1 vegur","responseCookies":"","responseBody":"{\n    \"_error\": \"Không tạo được đơn hàng!\",\n    \"errors\": {\n        \"is_whole_truck\": [\n            \"không có trong danh sách\"\n        ]\n    }\n}","statusCode":422},"precondition":false,"level":2}]}]},{"number":16,"description":"And ops manager should be able to confirm payment of \"new\" order","duration":6,"startTime":"2019-10-09T09:19:40.769Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":17,"description":"And ops manager bidding \"new\" order for driver 1 with truck_quantity \u003d 1","duration":4,"startTime":"2019-10-09T09:19:40.777Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":18,"description":"And ops manager should be able to accept \"new\" bidding","duration":3,"startTime":"2019-10-09T09:19:40.783Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":19,"description":"And ops manager assign driver 1 to unassigned truck requests of \"new\" order","duration":3,"startTime":"2019-10-09T09:19:40.787Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":20,"description":"And ops manager bidding \"new\" order for driver 2 with truck_quantity \u003d 2","duration":2,"startTime":"2019-10-09T09:19:40.791Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":21,"description":"And ops manager should be able to accept \"new\" bidding","duration":3,"startTime":"2019-10-09T09:19:40.794Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":22,"description":"And ops manager assign driver 2 to unassigned truck requests of \"new\" order","duration":2,"startTime":"2019-10-09T09:19:40.798Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":23,"description":"And ops manager bidding \"new\" order for driver 3 with truck_quantity \u003d 3","duration":2,"startTime":"2019-10-09T09:19:40.801Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":24,"description":"And ops manager should be able to accept \"new\" bidding","duration":3,"startTime":"2019-10-09T09:19:40.804Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":25,"description":"And ops manager assign driver 3 to unassigned truck requests of \"new\" order","duration":2,"startTime":"2019-10-09T09:19:40.808Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":26,"description":"And ops manager should be able to send offers of \"new\" order to all drivers","duration":3,"startTime":"2019-10-09T09:19:40.811Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":27,"description":"And driver 1 should be able to accept \"new\" offer","duration":2,"startTime":"2019-10-09T09:19:40.815Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":28,"description":"And driver 2 should be able to accept \"new\" offer","duration":2,"startTime":"2019-10-09T09:19:40.818Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":29,"description":"And driver 3 should be able to accept \"new\" offer","duration":3,"startTime":"2019-10-09T09:19:40.821Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":30,"description":"And ops manager should be able to get \"new\" truck requests info","duration":2,"startTime":"2019-10-09T09:19:40.825Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":31,"description":"Then driver 1 should be able to drop off all shipment","duration":3,"startTime":"2019-10-09T09:19:40.828Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":32,"description":"And driver 2 should be able to drop off all shipment","duration":2,"startTime":"2019-10-09T09:19:40.832Z[GMT]","result":"SKIPPED","precondition":false,"level":0},{"number":33,"description":"And driver 3 should be able to drop off all shipment","duration":2,"startTime":"2019-10-09T09:19:40.836Z[GMT]","result":"SKIPPED","precondition":false,"level":0}],"userStory":{"id":"hydra---hybrid-order-on-app","storyName":"Hydra - Hybrid order on app","path":"api/smokeTests/hybridOrderOnApp.feature","type":"feature"},"featureTag":{"name":"Smoke tests/Hydra - Hybrid order on app","type":"feature","displayName":"Smoke tests/Hydra - Hybrid order on app"},"title":"Full flow hybrid order happy case with multiple driver","backgroundTitle":"Broker sign in","backgroundDescription":"","tags":[{"name":"deleteNewOrder","type":"tag","displayName":"deleteNewOrder"},{"name":"Api/Smoke tests","type":"theme","displayName":"Smoke tests"},{"name":"Api","type":"theme","displayName":"Api"},{"name":"Smoke tests/Hydra - Hybrid order on app","type":"feature","displayName":"Hydra - Hybrid order on app"}],"startTime":"2019-10-09T09:19:23.205Z[GMT]","duration":17636,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"Create new order error: {\"_error\":\"Không tạo được đơn hàng!\",\"errors\":{\"is_whole_truck\":[\"không có trong danh sách\"]}} - STOP APP","stackTrace":[{"declaringClass":"lgv.automation.util.Log","methodName":"errorAndStop","fileName":"Log.java","lineNumber":30},{"declaringClass":"lgv.automation.steps.api.BrokerSteps","methodName":"createNewHybridOrderWithTruckQuantity","fileName":"BrokerSteps.java","lineNumber":667},{"declaringClass":"lgv.automation.steps.api.BrokerSteps","methodName":"shouldBeAbleToCreateNewHybridOrderWithTruckQuantity","fileName":"BrokerSteps.java","lineNumber":1322},{"declaringClass":"lgv.automation.serenityCucumber.api.features.steps.broker.CreateNewOrder","methodName":"create_new_hybrid_order_with_truck_quantity_success","fileName":"CreateNewOrder.java","lineNumber":56},{"declaringClass":"cucumber.runner.PickleStepDefinitionMatch","methodName":"runStep","fileName":"PickleStepDefinitionMatch.java","lineNumber":50},{"declaringClass":"cucumber.runner.TestStep","methodName":"executeStep","fileName":"TestStep.java","lineNumber":63},{"declaringClass":"cucumber.runner.TestStep","methodName":"run","fileName":"TestStep.java","lineNumber":49},{"declaringClass":"cucumber.runner.PickleStepTestStep","methodName":"run","fileName":"PickleStepTestStep.java","lineNumber":43},{"declaringClass":"cucumber.runner.TestCase","methodName":"run","fileName":"TestCase.java","lineNumber":44},{"declaringClass":"cucumber.runner.Runner","methodName":"runPickle","fileName":"Runner.java","lineNumber":40}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"Create new order error: {\"_error\":\"Không tạo được đơn hàng!\",\"errors\":{\"is_whole_truck\":[\"không có trong danh sách\"]}} - STOP APP","testFailureSummary":"FAILURE;java.lang.AssertionError;Create new order error: {\"_error\":\"Không tạo được đơn hàng!\",\"errors\":{\"is_whole_truck\":[\"không có trong danh sách\"]}} - STOP APP;Log.java","projectKey":"","annotatedResult":"FAILURE","isManualTestingUpToDate":false,"manual":false,"testSource":"Cucumber","result":"FAILURE"}